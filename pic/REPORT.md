D01-Linux

## Part 1. Установка ОС

*  Графический интерфейс должен отсутствовать.
*  Узнайте версию Ubuntu, выполнив команду: `cat /etc/issue.`
*  Вставьте скриншот с выводом команды.
![](Part1.png)

## Part 2. Создание пользователя

*  скриншот вызова команды для создания пользователя.
![Скриншот создание пользователя](Par2(1).png)
*  Новый пользователь должен быть в выводе команды: `cat /etc/passwd`
*  скриншот с выводом команды.
![скриншот с выводом команды](Par2(2).png)

## Part 3. Настройка сети ОС

1.  Задать название машины вида user-1
![Установка нового имени машины](Part3(1).png)
![скриншот установленного нового имени машины (до перезагрузки)](Part3(2).png)
2.  Установить временную зону, соответствующую вашему текущему местоположению.
![Изменение временной зоны](Part3(3).png)
3.  Вывести названия сетевых интерфейсов с помощью консольной команды.
![Вывод названия сетевых интерфейсов](Part3(4).png)

Дать объяснение наличию интерфейса lo.  
lo (local loopback) используется для того, что бы компьютер мог обращаться к самому себе и имеет по умолчанию ip-адрес 127.0.0.1 на всех компьютерах.

4.  Используя консольную команду получить ip адрес устройства, на котором вы работаете, от DHCP сервера. 
![внешний ip](Part3(5).png)

В отчёте дать расшифровку DHCP.    
прикладной протокол, позволяющий сетевым устройствам автоматически получать IP-адрес и другие параметры, необходимые для работы в сети TCP/IP. Данный протокол работает по модели «клиент-сервер». Для автоматической конфигурации компьютер-клиент на этапе конфигурации сетевого устройства обращается к так называемому серверу DHCP и получает от него нужные параметры

5.  Определить и вывести на экран внешний ip-адрес шлюза (ip) и внутренний IP-адрес шлюза, он же ip-адрес по умолчанию (gw). 
![внутренний ip и внешний](Part3(6).png)
6.  Задать статичные (заданные вручную, а не полученные от DHCP сервера) настройки ip, gw, dns (использовать публичный DNS серверы, например 1.1.1.1 или 8.8.8.8).
![открытие файла с данными о сети и запись ip, mask, dns](Part3(7).png)
![статичный ip, mask были выставлены](Part3(9).png)
7.  Перезагрузить виртуальную машину. Убедиться, что статичные сетевые настройки (ip, gw, dns) соответствуют заданным в предыдущем пункте.  
![после reboot](Part3(10).png)

- В отчёте опишите, что сделали для выполнения всех семи пунктов (можно как текстом, так и скриншотами).
- Успешно пропинговать удаленные хосты 1.1.1.1 и ya.ru и вставить в отчёт скрин с выводом команды.
![пропингованные хосты](Part3(11).png)

## Part 4. Обновление ОС

1.  После обновления системных пакетов, если ввести команду обновления повторно, должно появится сообщение, что обновления отсутствуют.
2.  Вставить скриншот с этим сообщением в отчёт.
![ОС обновлена](Part4(1).png)

## Part 5. Использование команды sudo

##### Разрешить пользователю, созданному в [Part 2](#part-2-создание-пользователя), выполнять команду sudo. 

1.  Sudo означает SuperUser DO и используется для доступа к файлам и операциям с ограниченным доступом. По умолчанию Linux ограничивает доступ к определенным частям системы, предотвращая компрометацию конфиденциальных файлов.
Команда sudo временно повышает привилегии, позволяя пользователям выполнять конфиденциальные задачи без входа в систему как пользователь root.
2.  Поменять hostname ОС от имени пользователя, созданного в пункте [Part 2](#part-2-создание-пользователя). (используя sudo).
3.  Вставить скрин с изменённым hostname в отчёт.
![sudo для 2го пользователя](Part5(1).png)

## Part 6. Установка и настройка службы времени

1.  Вывести время, часового пояса, в котором вы сейчас находитесь.
2.  Вывод следующей команды должен содержать `NTPSynchronized=yes`: `timedatectl status`
3.  Вставить скрины с корректным временем и выводом команды в отчёт.
![Скрин с выводом времени](Part6(1).png)

## Part 7. Установка и использование текстовых редакторов 

**== VIM ==**

1.  ![vim Chan Rosa](Part7(1).png)
2.  ![vim sc21](Part7(2).png)
3.  ![vim Поиск](Part7(3).png)
4.  ![vim Замена](Part7(4).png)
5. 
  - vim test_vim.txt
  - Нажать i
  - Вписать ник
  - Нажать ESC, затем  :, затем набрать w(сохранить) q(выйти) и нажать Enter
  - Поиск:Без перехода в режим вставки, нажать /<текст поиска>
  - Замена:Без перехода в режим вставки, нажать :s/<текст поиска>/<текст замены>/g

**== NANO ==**

1.  ![Nano Chan Rosa](Part7(5).png)
2.  ![Nano sc21](Part7(6).png)
3.  ![Nano Поиск](Part7(8).png)
4.  ![Nano Замена](Part7(7).png)
5. 
  nano test_nano.txt

  Вписать ник
  
  Нажать Ctrl + O, Enter, затем Ctrl + X
  
  Выход без сохранения:
  
  Нажать Ctrl + X, затем N
  
  Поиск:Ctrl + W
  
  Замена:Option + R
  
  Поиск + замена: Alt + R

**== MCEDIT ==**

1.  ![Mcedit Chan Rosa](Part7(9).png)
2.  ![Mcedit sc21](Part7(10).png)
3.  ![Mcedit Поиск](Part7(11).png)
4.  ![Mcedit Замена](Part7(12).png)
5. 
  - mcedit test_mcedit.txt
  - Вписать ник
  - Нажать F10
  - выбрать "yes" или "да"
  - Выход без сохранения: Выбрать "no"
  - Поиск:F7
  - Замена:F4

## Part 8. Установка и базовая настройка сервиса **SSHD**
1.  Установить службу sshd: `sudo apt-get install ssh`
    После установки открыть sshd: `systemctl status sshd`
![sshd](Part8(1).png)
2.  чтобы служба запускалась автоматически, нужно добавить ее в автозагрузку. `sudo systemctl enable ssh`
![sshd stat](Part8(2).png)
3.  ![sshd config](Part8(3).png)
4.  ![ps](Part8(4).png)    
5.  `reboot`
6.  ![netstat -tan](Part8(5).png)
    > --numeric , -n
    > 
    > Показывать сетевые адреса как числа
    > 
    > -a, --all
    > 
    > Показывать состояние всех сокетов
    > 
    > -t --tcp
    > 
    > оторбразить только соединения по tcp
    
    > Output Columns
    >
    > Proto - использумый сокетом протокол.
    >
    > Recv-Q - показывает количество байт не копированных программой приконекченной к сокету.
    >
    >Send-Q - показывает кол-во байт не признанных(подтвержденных) удаленным хостом.
    >
    > Local Address - IP-адрес локального компьютера и используемый номер порта
    Foreign Address - IP-адрес и номер порта удаленного компьютера, к которому подключен сокет.
    >
    >State - состояние сокета.
    
    > 0.0.0.0 - Это не маршрутизируемый мета-адрес, который используется для определения неизвестного или недействительного целевого объекта. Если говорить о серверах, то 0.0.0.0 означает все адреса IPv4 на локальной машине. В случае записи маршрута это означает маршрут по умолчанию.

## Part 9. Установка и использование утилит **top**, **htop**

- Установить и запустить утилиты top и htop.  

1.  По выводу команды top определить и написать в отчёте:
  - uptime : 21 min
  - количество авторизованных пользователей: 1
  - общую загрузку системы: 0.00, 0.00, 0.00
  - общее количество процессов: 94
  - загрузку cpu: 0,0
  - загрузку памяти: 976.9
  - pid процесса занимающего больше всего памяти: 672
  - pid процесса, занимающего больше всего процессорного времени: 1196
![Top](Part9(0).png)
![Top](Part9(1).png)

2. В отчёт вставить скрин с выводом команды htop:
  - отсортированному по PID, PERCENT_CPU, PERSENT_MEM, TIME
![PID](Part9(2).png)
![percentCPU](Part9(3).png)
![percentMEM](Part9(4).png)
![time](Part9(5).png)
  - отфильтрованному для процесса sshd
![sshd](Part9(6).png)
  - с процессом syslog, найденным, используя поиск
![syslog](Part9(7).png)
  - с добавленным выводом hostname, clock и uptime
![hostnameclockuptime](Part9(8).png) 

## Part 10. Использование утилиты **fdisk**

1.  название жесткого диска /dev/sda
2.  его размер 10GIB
3.  количество секторов 20971520
4.  размер swap 1.5 Gi
![fdisk -l](Part10(1).png)

## Part 11. Использование утилиты **df** 

1.  Запустить команду df.
2.  В отчёте написать для корневого раздела (/):
  - размер раздела: 8408452
  - размер занятого пространства: 4575284
  - размер свободного пространства: 3384452
  - процент использования: 58
  - Определить и написать в отчёт единицу измерения в выводе: Килобайт

3.  Запустить команду df -Th.
  - размер раздела : 8.1G
  - размер занятого пространства : 4.4G
  - размер свободного пространства : 3.3G
  - процент использования : 58
  - тип файловой системы для раздела : ext4  
![df](Part11(1).png)

## Part 12. Использование утилиты **du**

1.  `sudo apt-get install ncdu`
2.  Вывести размер папок /home, /var, /var/log (в байтах, в человекочитаемом виде)
![var](Part12(1).png)
3.  Вывести размер всего содержимого в /var/log (не общее, а каждого вложенного элемента, используя *)
![human var/log/*](Part12(2).png)

## Part 13. Установка и использование утилиты **ncdu**

1.  `sudo apt-get install ncdu`
2.  ![ncdu /home](Part13(1).png)
3.  ![ncdu /var](Part13(2).png)
4.  ![ncdu /var/log](Part13(3).png)

## Part 14. Работа с системными журналами

1.  `vim /var/log/dmesg`
2.  `vim /var/log/syslog`
3.  `vim /var/log/authlog`
4.  Написать в отчёте время последней успешной авторизации, имя пользователя и метод входа в систему: 10:38:14 student by LOGIN
![vim logind](Part14(1).png)
5.  Перезапустить службу SSHd: `service ssh restart`
6.  Вставить в отчёт скрин с сообщением о рестарте службы (искать в логах).
![restart sshd](Part14(2).png)

## Part 15. Использование планировщика заданий **CRON**

1.  Найти в системных журналах строчки (минимум две в заданном временном диапазоне) о выполнении.
2.  Вывести на экран список текущих заданий для CRON.
![crontab -l](Part15(1).png)
3.  Вставить в отчёт скрины со строчками о выполнении и списком текущих задач.
![syslog cron ](Part15(2).png)
4.  Удалите все задания из планировщика заданий.
  - В отчёт вставьте скрин со списком текущих заданий для CRON.
![del](Part15(3).png)
